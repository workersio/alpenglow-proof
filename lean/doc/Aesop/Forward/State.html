<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Aesop.Forward.State</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Aesop.Forward.State";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Aesop</span>.<span class="name">Forward</span>.<span class="name">State</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Aesop/Forward/Match.html">Aesop.Forward.Match</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Aesop.Forward.State" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Aesop.RawHyp"><span class="name">Aesop</span>.<span class="name">RawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedRawHyp"><span class="name">Aesop</span>.<span class="name">instInhabitedRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedRawHyp.default"><span class="name">Aesop</span>.<span class="name">instInhabitedRawHyp</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instBEqRawHyp.beq"><span class="name">Aesop</span>.<span class="name">instBEqRawHyp</span>.<span class="name">beq</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instBEqRawHyp"><span class="name">Aesop</span>.<span class="name">instBEqRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instHashableRawHyp.hash"><span class="name">Aesop</span>.<span class="name">instHashableRawHyp</span>.<span class="name">hash</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instHashableRawHyp"><span class="name">Aesop</span>.<span class="name">instHashableRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Hyp"><span class="name">Aesop</span>.<span class="name">Hyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedHyp.default"><span class="name">Aesop</span>.<span class="name">instInhabitedHyp</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedHyp"><span class="name">Aesop</span>.<span class="name">instInhabitedHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Hyp.instBEq"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">instBEq</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Hyp.instHashable"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">instHashable</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Hyp.containsHyp"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">containsHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Hyp.isPatSubst"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">isPatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap"><span class="name">Aesop</span>.<span class="name">InstMap</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedInstMap"><span class="name">Aesop</span>.<span class="name">instInhabitedInstMap</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedInstMap.default"><span class="name">Aesop</span>.<span class="name">instInhabitedInstMap</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">instEmptyCollection</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.instToMessageData"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">instToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.find?"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.findD"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">findD</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.modify"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">modify</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.insertHyp"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.insertMatchCore"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertMatchCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.insertMatch"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.modifyMapsForSlotsFrom"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">modifyMapsForSlotsFrom</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.eraseHyp"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">eraseHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.InstMap.erasePatSubst"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">erasePatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap"><span class="name">Aesop</span>.<span class="name">VariableMap</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedVariableMap"><span class="name">Aesop</span>.<span class="name">instInhabitedVariableMap</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedVariableMap.default"><span class="name">Aesop</span>.<span class="name">instInhabitedVariableMap</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">instEmptyCollection</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.instToMessageData"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">instToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.find?"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">find?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.find"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">find</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.modify"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">modify</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.addHyp"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">addHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.addMatch"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">addMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.eraseHyp"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">eraseHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.erasePatSubst"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">erasePatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.findMatches"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.findMatches.prevSlotMatches"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findMatches</span>.<span class="name">prevSlotMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.findHyps"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.VariableMap.findHyps.slotHyps"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findHyps</span>.<span class="name">slotHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState"><span class="name">Aesop</span>.<span class="name">ClusterState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.instInhabited"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">instInhabited</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.instToMessageData"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">instToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.slot!"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">slot!</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.findSlot?"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">findSlot?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.matchPremise?"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">matchPremise?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.matchPremise?.updateSubst"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">matchPremise?</span>.<span class="name">updateSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.AddM.Context"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span>.<span class="name">Context</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.AddM"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.AddM.run"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span>.<span class="name">run</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.addMatch"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addMatch</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.addHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.addRawHypCore"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addRawHypCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.addQueuedRawHyps"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addQueuedRawHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.enqueueRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">enqueueRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.addRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.eraseEnqueuedRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">eraseEnqueuedRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.eraseHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">eraseHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ClusterState.erasePatSubst"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">erasePatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.PatSubstSource"><span class="name">Aesop</span>.<span class="name">PatSubstSource</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedPatSubstSource"><span class="name">Aesop</span>.<span class="name">instInhabitedPatSubstSource</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedPatSubstSource.default"><span class="name">Aesop</span>.<span class="name">instInhabitedPatSubstSource</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instHashablePatSubstSource.hash"><span class="name">Aesop</span>.<span class="name">instHashablePatSubstSource</span>.<span class="name">hash</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instHashablePatSubstSource"><span class="name">Aesop</span>.<span class="name">instHashablePatSubstSource</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instBEqPatSubstSource.beq"><span class="name">Aesop</span>.<span class="name">instBEqPatSubstSource</span>.<span class="name">beq</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instBEqPatSubstSource"><span class="name">Aesop</span>.<span class="name">instBEqPatSubstSource</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState"><span class="name">Aesop</span>.<span class="name">RuleState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedRuleState.default"><span class="name">Aesop</span>.<span class="name">instInhabitedRuleState</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedRuleState"><span class="name">Aesop</span>.<span class="name">instInhabitedRuleState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instToMessageDataRuleState"><span class="name">Aesop</span>.<span class="name">instToMessageDataRuleState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRule.initialRuleState"><span class="name">Aesop</span>.<span class="name">ForwardRule</span>.<span class="name">initialRuleState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState.addRawHyp"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState.addRawHyp.getCompleteMatches"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span>.<span class="name">getCompleteMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState.addRawHyp.addMatches"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span>.<span class="name">addMatches</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState.erasePatSubst"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">erasePatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.RuleState.eraseHyp"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">eraseHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState"><span class="name">Aesop</span>.<span class="name">ForwardState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedForwardState"><span class="name">Aesop</span>.<span class="name">instInhabitedForwardState</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.instInhabitedForwardState.default"><span class="name">Aesop</span>.<span class="name">instInhabitedForwardState</span>.<span class="name">default</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">instEmptyCollection</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.instToMessageData"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">instToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addHypCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addHyp"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addPatSubstCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubstCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addPatSubst"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubstsCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubsts</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addHypWithPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypWithPatSubstsCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.addHypWithPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypWithPatSubsts</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.erasePatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">erasePatSubsts</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.eraseHyp"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">eraseHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.eraseTargetPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">eraseTargetPatSubsts</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.updateTargetPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">updateTargetPatSubstsCore</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardState.updateTargetPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">updateTargetPatSubsts</span></a></div></nav><main>
<div class="decl" id="Aesop.RawHyp"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L31-L38">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RawHyp"><span class="name">Aesop</span>.<span class="name">RawHyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A hypothesis that has not yet been matched against a premise, or a rule
pattern substitution.</p><ul class="constructors"><li class="constructor" id="Aesop.RawHyp.fvarId">fvarId<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
 : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a><div class="inductive_ctor_doc"><p>The hypothesis.</p></div></li><li class="constructor" id="Aesop.RawHyp.patSubst">patSubst<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
 : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a><div class="inductive_ctor_doc"><p>The rule pattern substitution.</p></div></li></ul><details id="instances-for-list-Aesop.RawHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedRawHyp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRawHyp"><span class="name">Aesop</span>.<span class="name">instInhabitedRawHyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRawHyp">Aesop.instInhabitedRawHyp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRawHyp.default">Aesop.instInhabitedRawHyp.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instInhabitedRawHyp.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRawHyp.default"><span class="name">Aesop</span>.<span class="name">instInhabitedRawHyp</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRawHyp.default">Aesop.instInhabitedRawHyp.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">Aesop.RawHyp.fvarId</a> <a href="../.././Init/Prelude.html#Inhabited.default">default</a></span></li></ul></details><details id="instances-for-list-Aesop.instInhabitedRawHyp.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instBEqRawHyp.beq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp.beq"><span class="name">Aesop</span>.<span class="name">instBEqRawHyp</span>.<span class="name">beq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a> → <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp.beq">Aesop.instBEqRawHyp.beq</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">Aesop.RawHyp.fvarId</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">Aesop.RawHyp.fvarId</a> <span class="fn">b</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp.beq">Aesop.instBEqRawHyp.beq</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.patSubst">Aesop.RawHyp.patSubst</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.patSubst">Aesop.RawHyp.patSubst</a> <span class="fn">b</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp.beq">Aesop.instBEqRawHyp.beq</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Aesop.instBEqRawHyp.beq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instBEqRawHyp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp"><span class="name">Aesop</span>.<span class="name">instBEqRawHyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp">Aesop.instBEqRawHyp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instBEqRawHyp.beq">Aesop.instBEqRawHyp.beq</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instHashableRawHyp.hash"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp.hash"><span class="name">Aesop</span>.<span class="name">instHashableRawHyp</span>.<span class="name">hash</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp.hash">Aesop.instHashableRawHyp.hash</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">Aesop.RawHyp.fvarId</a> <span class="fn">a</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">0</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span></span></li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp.hash">Aesop.instHashableRawHyp.hash</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.patSubst">Aesop.RawHyp.patSubst</a> <span class="fn">a</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">1</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span></span></li></ul></details><details id="instances-for-list-Aesop.instHashableRawHyp.hash" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instHashableRawHyp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L38-L38">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp"><span class="name">Aesop</span>.<span class="name">instHashableRawHyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp">Aesop.instHashableRawHyp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instHashableRawHyp.hash">Aesop.instHashableRawHyp.hash</a> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.Hyp"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L40-L48">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.Hyp"><span class="name">Aesop</span>.<span class="name">Hyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A hypothesis that was matched against a premise, or a rule pattern
substitution.</p><ul class="structure_fields" id="Aesop.Hyp.mk"><li id="Aesop.Hyp.fvarId?" class="structure_field"><div class="structure_field_info">fvarId? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span></div><div class="structure_field_doc"><p>The hypothesis, or <code>none</code> if this is a rule pattern substitution.</p></div></li><li id="Aesop.Hyp.subst" class="structure_field"><div class="structure_field_info">subst : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a></div><div class="structure_field_doc"><p>The substitution that results from matching the hypothesis against a
premise or that was derived from the pattern.</p></div></li></ul><details id="instances-for-list-Aesop.Hyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedHyp.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L48-L48">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedHyp.default"><span class="name">Aesop</span>.<span class="name">instInhabitedHyp</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedHyp.default">Aesop.instInhabitedHyp.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp.mk">{</a> <span class="fn">fvarId?</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">subst</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.instInhabitedHyp.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedHyp"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L48-L48">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedHyp"><span class="name">Aesop</span>.<span class="name">instInhabitedHyp</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedHyp">Aesop.instInhabitedHyp</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedHyp.default">Aesop.instInhabitedHyp.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.Hyp.instBEq"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L52-L57">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.Hyp.instBEq"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">instBEq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.Hyp.instHashable"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L59-L63">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.Hyp.instHashable"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">instHashable</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.instHashable">Aesop.Hyp.instHashable</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Init/Prelude.html#Hashable.mk">{</a>     <span class="fn">hash</span> := <span class="fn">fun (<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Aesop.Hyp</a>) =&gt;
      <span class="fn">match <span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.fvarId?">fvarId?</a></span> with
      | <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">h</span></span> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">h</span></span>
      | <a href="../.././Init/Prelude.html#Option.none">none</a> =&gt; <span class="fn"><a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></span></span></span></span> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.Hyp.containsHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L65-L68">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.Hyp.containsHyp"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">containsHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if <code>h</code> is the hyp <code><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">fvarId</a></code> or is a pattern substitution
containing <code><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp.fvarId">fvarId</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.containsHyp">Aesop.Hyp.containsHyp</a> <span class="fn">fvarId</span> <span class="fn">h</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.fvarId?">fvarId?</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn"><a href="../.././Init/Prelude.html#Option.some">some</a> <span class="fn">fvarId</span></span> <a href="../.././Init/Prelude.html#Bool.or">||</a> <span class="fn"><a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution.containsHyp">Aesop.Substitution.containsHyp</a> <span class="fn">fvarId</span> <span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></span></span>)</li></ul></details><details id="instances-for-list-Aesop.Hyp.containsHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Hyp.isPatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L70-L72">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.Hyp.isPatSubst"><span class="name">Aesop</span>.<span class="name">Hyp</span>.<span class="name">isPatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Does this <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></code> represent a pattern substitution?</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.isPatSubst">isPatSubst</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">h</span>.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.fvarId?">fvarId?</a></span>.<a href="../.././Init/Data/Option/Basic.html#Option.isSome">isSome</a></span></li></ul></details><details id="instances-for-list-Aesop.Hyp.isPatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L77-L82">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap"><span class="name">Aesop</span>.<span class="name">InstMap</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Partial matches associated with a particular slot instantiation. An entry
<code>s ↦ e ↦ (ms, hs)</code> indicates that for the instantiation <code>e</code> of slot <code>s</code>, we have
partial matches <code>ms</code> and hypotheses <code>hs</code>.</p><ul class="structure_fields" id="Aesop.InstMap.mk"><li id="Aesop.InstMap.map" class="structure_field"><div class="structure_field_info">map : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a> <span class="fn">(<a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a> (<span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span>))</span></span></div></li></ul><details id="instances-for-list-Aesop.InstMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedInstMap"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L82-L82">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedInstMap"><span class="name">Aesop</span>.<span class="name">instInhabitedInstMap</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedInstMap">Aesop.instInhabitedInstMap</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedInstMap.default">Aesop.instInhabitedInstMap.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instInhabitedInstMap.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L82-L82">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedInstMap.default"><span class="name">Aesop</span>.<span class="name">instInhabitedInstMap</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedInstMap.default">Aesop.instInhabitedInstMap.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap.mk">{</a> <span class="fn">map</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.instInhabitedInstMap.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.instEmptyCollection"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L86-L86">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">instEmptyCollection</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Core.html#EmptyCollection">EmptyCollection</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap.instEmptyCollection">Aesop.InstMap.instEmptyCollection</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Core.html#EmptyCollection.mk">{</a> <span class="fn">emptyCollection</span> := <a href="../.././Aesop/Forward/State.html#Aesop.InstMap.mk">{</a> <span class="fn">map</span> := <a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.empty">Lean.PersistentHashMap.empty</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap.mk">}</a> <a href="../.././Init/Core.html#EmptyCollection.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.InstMap.instToMessageData"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L88-L99">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.instToMessageData"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">instToMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.InstMap.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L101-L106">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.find?"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">find?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">inst</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span>)</span></div></div><p>Returns the set of matches and hypotheses associated with a slot <code>slot</code>
with instantiation <code>inst</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.findD"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L108-L114">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.findD"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">findD</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">inst</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><p>Returns the set of matches and hypotheses associated with a slot <code>slot</code>
with instantiation <code>inst</code>, or <code>(∅, ∅)</code> if <code>slot</code> and <code>inst</code> do not have any
associated matches.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">imap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.InstMap.findD">findD</a></span> <span class="fn">slot</span> <span class="fn">inst</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">imap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.InstMap.find?">find?</a></span> <span class="fn">slot</span> <span class="fn">inst</span>)</span>.<a href="../.././Init/Prelude.html#Option.getD">getD</a></span> <a href="../.././Init/Prelude.html#Prod.mk">(</a><a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a><a href="../.././Init/Prelude.html#Prod.mk">,</a> <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a><a href="../.././Init/Prelude.html#Prod.mk">)</a></span></li></ul></details><details id="instances-for-list-Aesop.InstMap.findD" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.modify"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L116-L125">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.modify"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">modify</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">inst</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> → <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span> → <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span></div></div><p>Applies a transfomation to the data associated to <code>slot</code> and <code>inst</code>.
If there is no such data, the transformation is applied to <code>(∅, ∅)</code>. Returns the
new instantiation map and the result of <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.modify" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.insertHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L127-L136">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.insertHyp"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">inst</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Inserts a hyp associated with slot <code>slot</code> and instantiation <code>inst</code>.
The hyp must be a valid assignment for the slot's premise. Returns <code>true</code> if
the hyp was not previously associated with <code>slot</code> and <code>inst</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.insertHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.insertMatchCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L138-L147">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.insertMatchCore"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertMatchCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">inst</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Inserts a match associated with slot <code>slot</code> and instantiation <code>inst</code>.
The match's level must be <code>slot</code>. Returns <code>true</code> if the match was not previously
associated with <code>slot</code> and <code>inst</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.insertMatchCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.insertMatch"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L149-L157">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.insertMatch"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">insertMatch</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Inserts a match. The match <code>m</code> is associated with the slot given by its
level (i.e., the maximal slot for which <code>m</code> contains a hypothesis) and the
instantiation of <code>var</code> given by the map's substitution. Returns <code>true</code> if the
match was not previously associated with this slot and instantiation.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.insertMatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.modifyMapsForSlotsFrom"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L159-L171">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.modifyMapsForSlotsFrom"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">modifyMapsForSlotsFrom</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> → <span class="fn"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span> → <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></div></div><p>Modify the maps for slot <code>slot</code> and all later slots.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.modifyMapsForSlotsFrom" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.eraseHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L173-L181">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.eraseHyp"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">eraseHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></div></div><p>Remove <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code> from <code>slot</code> and all later slots. For each mapping
<code>s ↦ e ↦ (ms, hs)</code> in <code>imap</code>, if <code>s ≥ slot</code>, then <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code> is removed from <code>hs</code> and
any matches containing <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code> are removed from <code>ms</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.eraseHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.InstMap.erasePatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L183-L191">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.InstMap.erasePatSubst"><span class="name">Aesop</span>.<span class="name">InstMap</span>.<span class="name">erasePatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">imap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></div></div><p>Remove the pattern substitution <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> from <code>slot</code> and all later slots.
For each mapping <code>s ↦ e ↦ (ms, hs)</code> in <code>imap</code>, if <code>s ≥ slot</code>, then <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> is
removed from <code>hs</code> and any matches containing <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> are removed from <code>ms</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.InstMap.erasePatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L196-L200">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap"><span class="name">Aesop</span>.<span class="name">VariableMap</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Map from variables to the matches and hypotheses of slots whose types
contain the variables.</p><ul class="structure_fields" id="Aesop.VariableMap.mk"><li id="Aesop.VariableMap.map" class="structure_field"><div class="structure_field_info">map : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></span></div></li></ul><details id="instances-for-list-Aesop.VariableMap" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedVariableMap"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L200-L200">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedVariableMap"><span class="name">Aesop</span>.<span class="name">instInhabitedVariableMap</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedVariableMap">Aesop.instInhabitedVariableMap</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedVariableMap.default">Aesop.instInhabitedVariableMap.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instInhabitedVariableMap.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L200-L200">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedVariableMap.default"><span class="name">Aesop</span>.<span class="name">instInhabitedVariableMap</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedVariableMap.default">Aesop.instInhabitedVariableMap.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">{</a> <span class="fn">map</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.instInhabitedVariableMap.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.instEmptyCollection"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L204-L205">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">instEmptyCollection</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Core.html#EmptyCollection">EmptyCollection</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.instEmptyCollection">Aesop.VariableMap.instEmptyCollection</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Core.html#EmptyCollection.mk">{</a> <span class="fn">emptyCollection</span> := <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">{</a> <span class="fn">map</span> := <a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.empty">Lean.PersistentHashMap.empty</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">}</a> <a href="../.././Init/Core.html#EmptyCollection.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.VariableMap.instToMessageData"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L207-L208">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.instToMessageData"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">instToMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.instToMessageData">Aesop.VariableMap.instToMessageData</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Lean/Message.html#Lean.ToMessageData.mk">{</a> <span class="fn">toMessageData</span> := <span class="fn">fun (<span class="fn">m</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">Aesop.VariableMap</a>) =&gt; <span class="fn"><a href="../.././Aesop/Forward/State.html#_private.Aesop.Forward.State.0.Aesop.ppPHashMap">Aesop.ppPHashMap✝</a> <a href="../.././Init/Prelude.html#Bool.true">true</a> <span class="fn"><span class="fn">m</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.map">map</a></span></span></span> <a href="../.././Lean/Message.html#Lean.ToMessageData.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.VariableMap.find?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L210-L212">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.find?"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">find?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></span></div></div><p>Get the <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code> associated with a variable.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.find?">find?</a></span> <span class="fn">var</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.find?">Lean.PersistentHashMap.find?</a> <span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.map">map</a></span> <span class="fn">var</span></span></li></ul></details><details id="instances-for-list-Aesop.VariableMap.find?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.find"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L214-L216">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.find"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">find</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></div></div><p>Get the <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code> associated with a variable, or an empty <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.find">find</a></span> <span class="fn">var</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">(<span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.find?">find?</a></span> <span class="fn">var</span>)</span>.<a href="../.././Init/Prelude.html#Option.getD">getD</a></span> <a href="../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a></span></li></ul></details><details id="instances-for-list-Aesop.VariableMap.find" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.modify"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L218-L229">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.modify"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">modify</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> → <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn">α</span></div></div><p>Modify the <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code> associated to variable <code>var</code>. If no such <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code>
exists, the function <code>f</code> is applied to the empty <code><a href="../.././Aesop/Forward/State.html#Aesop.InstMap">InstMap</a></code> and the result is
associated with <code>var</code>. Returns the new variable map and the result of <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.modify" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.addHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L231-L241">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.addHyp"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">addHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Add a hypothesis <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code>. Precondition: <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code> matches the premise of slot
<code>slot</code> with substitution <code>hyp.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> (and hence <code>hyp.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> contains a mapping
for each variable in <code>slot.common</code>). Returns <code>true</code> if the variable map
changed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.addHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.addMatch"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L243-L249">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.addMatch"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">addMatch</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">nextSlot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Add a match <code>m</code>. Precondition: <code>nextSlot</code> is the slot with index
<code>m.level + 1</code>. Returns <code>true</code> if the variable map changed.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.addMatch" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.eraseHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L251-L254">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.eraseHyp"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">eraseHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></div></div><p>Remove a hyp from <code>slot</code> and all later slots.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.eraseHyp">eraseHyp</a></span> <span class="fn">hyp</span> <span class="fn">slot</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">{</a> <span class="fn">map</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.map">Lean.PersistentHashMap.map</a> <span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.map">map</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">Aesop.InstMap</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Aesop/Forward/State.html#Aesop.InstMap.eraseHyp">eraseHyp</a></span> <span class="fn">hyp</span> <span class="fn">slot</span></span></span></span> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.VariableMap.eraseHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.erasePatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L256-L259">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.erasePatSubst"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">erasePatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></div></div><p>Remove the pattern substitution <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> from <code>slot</code> and all later slots.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.erasePatSubst">erasePatSubst</a></span> <span class="fn">subst</span> <span class="fn">slot</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">{</a> <span class="fn">map</span> := <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PersistentHashMap.map">Lean.PersistentHashMap.map</a> <span class="fn"><span class="fn">vmap</span>.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.map">map</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Aesop/Forward/State.html#Aesop.InstMap">Aesop.InstMap</a>) =&gt; <span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Aesop/Forward/State.html#Aesop.InstMap.erasePatSubst">erasePatSubst</a></span> <span class="fn">subst</span> <span class="fn">slot</span></span></span></span> <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.VariableMap.erasePatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.findMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L261-L285">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.findMatches"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findMatches</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Std/Data/HashSet/Basic.html#Std.HashSet">Std.HashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span></div></div><p>Find matches in slot <code>slot - 1</code> whose substitutions are compatible with
<code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code>. Preconditions: <code>slot.index</code> is nonzero, <code>slot.common</code> is nonempty and
each variable contained in <code>slot.common</code> is also contained in <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.findMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.findMatches.prevSlotMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L281-L285">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.findMatches.prevSlotMatches"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findMatches</span>.<span class="name">prevSlotMatches</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.findMatches.prevSlotMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.findHyps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L287-L308">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.findHyps"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findHyps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Std/Data/HashSet/Basic.html#Std.HashSet">Std.HashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><p>Find hyps in <code>slot</code> whose substitutions are compatible with <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code>.
Precondition: <code>slot.common</code> is nonempty and each variable contained in it is
also contained in <code><a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.findHyps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.VariableMap.findHyps.slotHyps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L304-L308">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.VariableMap.findHyps.slotHyps"><span class="name">Aesop</span>.<span class="name">VariableMap</span>.<span class="name">findHyps</span>.<span class="name">slotHyps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">vmap</span> : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.VariableMap.findHyps.slotHyps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L312-L351">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState"><span class="name">Aesop</span>.<span class="name">ClusterState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Structure representing the state of a slot cluster.</p><ul class="structure_fields" id="Aesop.ClusterState.mk"><li id="Aesop.ClusterState.slots" class="structure_field"><div class="structure_field_info">slots : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a></span></div><div class="structure_field_doc"><p>The cluster's slots.</p></div></li><li id="Aesop.ClusterState.conclusionDeps" class="structure_field"><div class="structure_field_info">conclusionDeps : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a></span></div><div class="structure_field_doc"><p>The premises that appear in the rule's conclusion. These are the same for
all cluster states of a rule, but are stored here for convenience.</p></div></li><li id="Aesop.ClusterState.variableMap" class="structure_field"><div class="structure_field_info">variableMap : <a href="../.././Aesop/Forward/State.html#Aesop.VariableMap">VariableMap</a></div><div class="structure_field_doc"><p>The variable map for this cluster.</p></div></li><li id="Aesop.ClusterState.completeMatches" class="structure_field"><div class="structure_field_info">completeMatches : <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span></div><div class="structure_field_doc"><p>Complete matches for this cluster.</p></div></li><li id="Aesop.ClusterState.addHypsLazily" class="structure_field"><div class="structure_field_info">addHypsLazily : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>When this flag is <code>true</code>, hyps are added to the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slotQueues">slotQueues</a></code> rather than
the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.variableMap">variableMap</a></code>. This is an optimisation that avoids performing unifications
until a rule can potentially generate a complete match. More precisely:</p><ul>
<li><code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHypsLazily">addHypsLazily</a></code> is initially set to <code>true</code>.</li>
<li>While <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHypsLazily">addHypsLazily</a></code> is <code>true</code>, hyps are added to (and deleted from) the
<code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slotQueues">slotQueues</a></code> and are not added to the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.variableMap">variableMap</a></code>.
Once an addition causes all slot queues to have at least one element,
<code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHypsLazily">addHypsLazily</a></code> is permanently set to <code>false</code> and hyps for slot 0 are added
to the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.variableMap">variableMap</a></code>.</li>
<li>While <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHypsLazily">addHypsLazily</a></code> is <code>false</code>:<ul>
<li>Hyps for slot <code>i</code> are added directly to the variable maps if <code>i = 0</code> or
the slot <code>i - 1</code> has matches. Otherwise they are added to the slot queue
for <code>i</code>. (More precisely, we only track whether slot <code>i - 1</code> has had
matches at some point. This allows us to ignore deletions.)</li>
<li>The insertion of a match into slot <code>i</code> causes all hyps at slot <code>i + 1</code>
to be moved from the slot queue into the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.variableMap">variableMap</a></code>.</li>
</ul>
</li>
</ul></div></li><li id="Aesop.ClusterState.slotQueues" class="structure_field"><div class="structure_field_info">slotQueues : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span></div><div class="structure_field_doc"><p>Hypotheses or pattern substitutions that have been added to the cluster
state, but have not yet been added to the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.variableMap">variableMap</a></code>.</p></div></li><li id="Aesop.ClusterState.slotQueues_size" class="structure_field"><div class="structure_field_info">slotQueues_size : <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slotQueues">slotQueues</a></span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slots">slots</a></span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span></div><div class="structure_field_doc"><p>There is exactly one queue for each slot.</p></div></li><li id="Aesop.ClusterState.slotMaybeHasMatches" class="structure_field"><div class="structure_field_info">slotMaybeHasMatches : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div><div class="structure_field_doc"><p>The <code>i</code>th element of this array is <code>true</code> if a match was at some point
added to slot <code>i</code>.</p></div></li><li id="Aesop.ClusterState.slotMaybeHasMatches_size" class="structure_field"><div class="structure_field_info">slotMaybeHasMatches_size : <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slotMaybeHasMatches">slotMaybeHasMatches</a></span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn">self</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slots">slots</a></span>.<a href="../.././Init/Prelude.html#Array.size">size</a></span></div><div class="structure_field_doc"><p>There is exactly one boolean for each slot.</p></div></li></ul><details id="instances-for-list-Aesop.ClusterState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.instInhabited"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L355-L363">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.instInhabited"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">instInhabited</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ClusterState.instToMessageData"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L365-L368">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.instToMessageData"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">instToMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ClusterState.slot!"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L370-L373">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slot!"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">slot!</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a></div></div><p>Get the slot with the given index. Panic if the index is invalid.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">cs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slot!">slot!</a></span> <span class="fn">slot</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">cs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slots">slots</a></span><a href="../.././Init/GetElem.html#GetElem?.getElem!">[</a><span class="fn"><span class="fn">slot</span>.<a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex.toNat">toNat</a></span><a href="../.././Init/GetElem.html#GetElem?.getElem!">]</a><a href="../.././Init/GetElem.html#GetElem?.getElem!">!</a></li></ul></details><details id="instances-for-list-Aesop.ClusterState.slot!" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.findSlot?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L375-L377">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.findSlot?"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">findSlot?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a></span></div></div><p>Get the slot with the given premise index.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn"><span class="fn">cs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.findSlot?">findSlot?</a></span> <span class="fn">i</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Data/Array/Basic.html#Array.find?">Array.find?</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Aesop.Slot</a>) =&gt; <span class="fn"><span class="fn">x</span>.<a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot.premiseIndex">premiseIndex</a></span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">i</span>)</span> <span class="fn"><span class="fn">cs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.slots">slots</a></span></span></li></ul></details><details id="instances-for-list-Aesop.ClusterState.findSlot?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.matchPremise?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L379-L422">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.matchPremise?"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">matchPremise?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">premises</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">lmvarIds</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/SlotIndex.html#Aesop.SlotIndex">SlotIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span></div></div><p>Match hypothesis <code><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">hyp</a></code> against the slot with index <code>slot</code> in <code>cs</code> (which
must be a valid index).</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.matchPremise?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.matchPremise?.updateSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L410-L422">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.matchPremise?.updateSubst"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">matchPremise?</span>.<span class="name">updateSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">premises</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">var</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.matchPremise?.updateSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.AddM.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L424-L430">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.Context"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span>.<span class="name">Context</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Context for the <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a></code> monad.</p><ul class="structure_fields" id="Aesop.ClusterState.AddM.Context.mk"><li id="Aesop.ClusterState.AddM.Context.premiseMVars" class="structure_field"><div class="structure_field_info">premiseMVars : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span></div><div class="structure_field_doc"><p>Metavariables for the premises of the rule for which a hyp or match is
being added. When adding hyps, they are unified with these metavariables.</p></div></li><li id="Aesop.ClusterState.AddM.Context.premiseLMVars" class="structure_field"><div class="structure_field_info">premiseLMVars : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a></span></div><div class="structure_field_doc"><p>Metavariables for level parameters appearing in the rule's premises.</p></div></li></ul><details id="instances-for-list-Aesop.ClusterState.AddM.Context" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.AddM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L432-L435">source</a></div><div class="attributes">@[reducible, inline]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>A monad for operations that add hyps or matches to a cluster state. The
monad's state is an array of complete matches discovered while adding
hyps/matches.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">Aesop.ClusterState.AddM</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Init/Prelude.html#ReaderT">ReaderT</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.Context">Aesop.ClusterState.AddM.Context</a> <span class="fn">(<a href="../.././Init/Control/StateRef.html#StateRefT'">StateRefT'</a> <a href="../.././Init/System/IO.html#IO.RealWorld">IO.RealWorld</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Aesop.Match</a>)</span> <a href="../.././Aesop/BaseM.html#Aesop.BaseM">Aesop.BaseM</a>)</span></span></li></ul></details><details id="instances-for-list-Aesop.ClusterState.AddM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.AddM.run"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L437-L440">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.run"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">AddM</span>.<span class="name">run</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">premiseMVars</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">premiseLMVars</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Level.html#Lean.LMVarId">Lean.LMVarId</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">x</span> : <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<span class="fn">α</span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span>)</span></div></div><p>Run an <code><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a></code> action.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.run">Aesop.ClusterState.AddM.run</a> <span class="fn">premiseMVars</span> <span class="fn">premiseLMVars</span> <span class="fn">x</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn">(<a href="../.././Init/Prelude.html#ReaderT.run">ReaderT.run</a> <span class="fn">x</span> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.Context.mk">{</a> <span class="fn">premiseMVars</span> := <span class="fn">premiseMVars</span>, <span class="fn">premiseLMVars</span> := <span class="fn">premiseLMVars</span> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM.Context.mk">}</a>)</span>.<a href="../.././Init/Control/StateRef.html#StateRefT'.run">run</a></span> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a></span></li></ul></details><details id="instances-for-list-Aesop.ClusterState.AddM.run" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.addMatch"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L443-L473">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addMatch"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addMatch</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><p>Add a match to the cluster state. Returns the new cluster state and any new
complete matches for this cluster.</p></div></div><div class="decl" id="Aesop.ClusterState.addHyp"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L475-L494">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.Hyp">Hyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><p>Add a hypothesis to the cluster state. <code>hyp.<a href="../.././Aesop/Forward/State.html#Aesop.Hyp.subst">subst</a></code> must be the substitution
that results from applying <code>h</code> to <code>slot</code>.</p></div></div><div class="decl" id="Aesop.ClusterState.addRawHypCore"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L496-L509">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addRawHypCore"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addRawHypCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><p>Add a hypothesis or pattern substitution to the cluster state.</p></div></div><div class="decl" id="Aesop.ClusterState.addQueuedRawHyps"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L511-L521">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addQueuedRawHyps"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addQueuedRawHyps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><p>Insert the raw hyps from <code>slot</code>'s queue into the variable map.</p></div></div><div class="decl" id="Aesop.ClusterState.enqueueRawHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L524-L536">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.enqueueRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">enqueueRawHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></div></div><p>Add a hypothesis or pattern substitution to the queue for its slot. If
afterwards each slot queue contains at least one element, then the returned
cluster state <code>cs</code> has <code>cs.<a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addHypsLazily">addHypsLazily</a> = false</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.enqueueRawHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.addRawHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L538-L554">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.addRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">addRawHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">i</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState.AddM">AddM</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div></div><p>Add a hypothesis or pattern substitution to the cluster state. If a
hypothesis is given and its type does not match the premise corresponding to
<code>slot</code>, it is not added.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.addRawHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.eraseEnqueuedRawHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L556-L562">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.eraseEnqueuedRawHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">eraseEnqueuedRawHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">slot</span> : <a href="../.././Aesop/Forward/RuleInfo.html#Aesop.Slot">Slot</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></div></div><p>Erase a <code><a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a></code> from the slot queue of the given slot.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.eraseEnqueuedRawHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.eraseHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L570-L583">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.eraseHyp"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">eraseHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pi</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></div></div><p>Erase a hypothesis from the cluster state's variable map.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.eraseHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ClusterState.erasePatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L585-L597">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ClusterState.erasePatSubst"><span class="name">Aesop</span>.<span class="name">ClusterState</span>.<span class="name">erasePatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pi</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">cs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></div></div><p>Erase a pattern substitution from the cluster state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ClusterState.erasePatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.PatSubstSource"><div class="inductive"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L601-L608">source</a></div><div class="decl_header"><span class="decl_kind">inductive</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource"><span class="name">Aesop</span>.<span class="name">PatSubstSource</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>The source of a pattern substitution. The same substitution can have
multiple sources.</p><ul class="constructors"><li class="constructor" id="Aesop.PatSubstSource.hyp">hyp<span class="decl_args">
<span class="fn">(<span class="fn">fvarId</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
 : <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a><div class="inductive_ctor_doc"><p>The pattern substitution came from the given hypothesis.</p></div></li><li class="constructor" id="Aesop.PatSubstSource.target">target : <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a><div class="inductive_ctor_doc"><p>The pattern substitution came from the goal's target.</p></div></li></ul><details id="instances-for-list-Aesop.PatSubstSource" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedPatSubstSource"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedPatSubstSource"><span class="name">Aesop</span>.<span class="name">instInhabitedPatSubstSource</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedPatSubstSource">Aesop.instInhabitedPatSubstSource</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedPatSubstSource.default">Aesop.instInhabitedPatSubstSource.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instInhabitedPatSubstSource.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedPatSubstSource.default"><span class="name">Aesop</span>.<span class="name">instInhabitedPatSubstSource</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedPatSubstSource.default">Aesop.instInhabitedPatSubstSource.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">Aesop.PatSubstSource.hyp</a> <a href="../.././Init/Prelude.html#Inhabited.default">default</a></span></li></ul></details><details id="instances-for-list-Aesop.instInhabitedPatSubstSource.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instHashablePatSubstSource.hash"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource.hash"><span class="name">Aesop</span>.<span class="name">instHashablePatSubstSource</span>.<span class="name">hash</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a> → <a href="../.././Init/Prelude.html#UInt64">UInt64</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource.hash">Aesop.instHashablePatSubstSource.hash</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">Aesop.PatSubstSource.hyp</a> <span class="fn">a</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Init/Prelude.html#mixHash">mixHash</a> <span class="fn">0</span> <span class="fn">(<a href="../.././Init/Prelude.html#Hashable.hash">hash</a> <span class="fn">a</span>)</span></span></li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource.hash">Aesop.instHashablePatSubstSource.hash</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.target">Aesop.PatSubstSource.target</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn">1</span></li></ul></details><details id="instances-for-list-Aesop.instHashablePatSubstSource.hash" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instHashablePatSubstSource"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource"><span class="name">Aesop</span>.<span class="name">instHashablePatSubstSource</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Hashable">Hashable</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource">Aesop.instHashablePatSubstSource</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Hashable.mk">{</a> <span class="fn">hash</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instHashablePatSubstSource.hash">Aesop.instHashablePatSubstSource.hash</a> <a href="../.././Init/Prelude.html#Hashable.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instBEqPatSubstSource.beq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource.beq"><span class="name">Aesop</span>.<span class="name">instBEqPatSubstSource</span>.<span class="name">beq</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a> → <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource.beq">Aesop.instBEqPatSubstSource.beq</a> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">Aesop.PatSubstSource.hyp</a> <span class="fn">a</span>)</span> <span class="fn">(<a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.hyp">Aesop.PatSubstSource.hyp</a> <span class="fn">b</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> (<span class="fn">a</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">b</span>)</li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource.beq">Aesop.instBEqPatSubstSource.beq</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.target">Aesop.PatSubstSource.target</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.target">Aesop.PatSubstSource.target</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.true">true</a></li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource.beq">Aesop.instBEqPatSubstSource.beq</a> <span class="fn">x✝¹</span> <span class="fn">x✝</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Bool.false">false</a></li></ul></details><details id="instances-for-list-Aesop.instBEqPatSubstSource.beq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instBEqPatSubstSource"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L608-L608">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource"><span class="name">Aesop</span>.<span class="name">instBEqPatSubstSource</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#BEq">BEq</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource">Aesop.instBEqPatSubstSource</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#BEq.mk">{</a> <span class="fn">beq</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instBEqPatSubstSource.beq">Aesop.instBEqPatSubstSource.beq</a> <a href="../.././Init/Prelude.html#BEq.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.RuleState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L610-L620">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState"><span class="name">Aesop</span>.<span class="name">RuleState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>Forward state for one rule.</p><ul class="structure_fields" id="Aesop.RuleState.mk"><li id="Aesop.RuleState.rule" class="structure_field"><div class="structure_field_info">rule : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a></div><div class="structure_field_doc"><p>The rule to which this state belongs.</p></div></li><li id="Aesop.RuleState.clusterStates" class="structure_field"><div class="structure_field_info">clusterStates : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span></div><div class="structure_field_doc"><p>States for each of the rule's slot clusters.</p></div></li><li id="Aesop.RuleState.patSubstSources" class="structure_field"><div class="structure_field_info">patSubstSources : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a> <span class="fn">(<a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a>)</span></span></div><div class="structure_field_doc"><p>The sources of all pattern substitutions present in the
<code><a href="../.././Aesop/Forward/State.html#Aesop.RuleState.clusterStates">clusterStates</a></code>. Invariant: each pattern substitution in the cluster states
is associated with a nonempty set.</p></div></li></ul><details id="instances-for-list-Aesop.RuleState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedRuleState.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L620-L620">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRuleState.default"><span class="name">Aesop</span>.<span class="name">instInhabitedRuleState</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRuleState.default">Aesop.instInhabitedRuleState.default</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Aesop/Forward/State.html#Aesop.RuleState.mk">{</a> <span class="fn">rule</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">clusterStates</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">patSubstSources</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Aesop/Forward/State.html#Aesop.RuleState.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.instInhabitedRuleState.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedRuleState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L620-L620">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRuleState"><span class="name">Aesop</span>.<span class="name">instInhabitedRuleState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRuleState">Aesop.instInhabitedRuleState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedRuleState.default">Aesop.instInhabitedRuleState.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instToMessageDataRuleState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L622-L626">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instToMessageDataRuleState"><span class="name">Aesop</span>.<span class="name">instToMessageDataRuleState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ForwardRule.initialRuleState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L628-L641">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardRule.initialRuleState"><span class="name">Aesop</span>.<span class="name">ForwardRule</span>.<span class="name">initialRuleState</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></div></div><p>The initial (empty) rule state for a given forward rule.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRule.initialRuleState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RuleState.addRawHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L645-L711">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState.addRawHyp"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RawHyp">RawHyp</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pi</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a></span>)</span></div></div><p>Add a hypothesis or pattern substitution to the rule state. Returns the new
rule state and any newly completed matches. If a hypothesis is given and it does
not match premise <code>pi</code>, nothing happens.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RuleState.addRawHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RuleState.addRawHyp.getCompleteMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L683-L698">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState.addRawHyp.getCompleteMatches"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span>.<span class="name">getCompleteMatches</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">clusterStates</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/State.html#Aesop.ClusterState">ClusterState</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">clusterIdx</span> : <a href="../.././Init/Prelude.html#Nat">Nat</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newCompleteMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RuleState.addRawHyp.getCompleteMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RuleState.addRawHyp.addMatches"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L700-L711">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState.addRawHyp.addMatches"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">addRawHyp</span>.<span class="name">addMatches</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">completeMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">clusterMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RuleState.addRawHyp.addMatches" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RuleState.erasePatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L713-L732">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState.erasePatSubst"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">erasePatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">source</span> : <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></div></div><p>Erase a pattern substitution that was obtained from the given source.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RuleState.erasePatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.RuleState.eraseHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L734-L737">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.RuleState.eraseHyp"><span class="name">Aesop</span>.<span class="name">RuleState</span>.<span class="name">eraseHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">pi</span> : <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">rs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></div></div><p>Erase a hypothesis from the rule state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.RuleState.eraseHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L741-L759">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState"><span class="name">Aesop</span>.<span class="name">ForwardState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><p>State representing the non-complete matches of a given set of forward rules
in a given local context.</p><ul class="structure_fields" id="Aesop.ForwardState.mk"><li id="Aesop.ForwardState.ruleStates" class="structure_field"><div class="structure_field_info">ruleStates : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/Rule/Name.html#Aesop.RuleName">RuleName</a> <a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></span></div><div class="structure_field_doc"><p>Map from each rule's name to its <code><a href="../.././Aesop/Forward/State.html#Aesop.RuleState">RuleState</a></code></p></div></li><li id="Aesop.ForwardState.hyps" class="structure_field"><div class="structure_field_info">hyps : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> <span class="fn">(<a href="../.././Lean/Data/PersistentArray.html#Lean.PArray">Lean.PArray</a> (<a href="../.././Aesop/Rule/Name.html#Aesop.RuleName">RuleName</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>))</span></span></div><div class="structure_field_doc"><p>A map from hypotheses to the rules and premises that they matched against
when they were initially added to the rule state. Invariant: the rule states
in which a hypothesis <code>h</code> appear are exactly those identified by the rule
names in <code>hyps[h]</code>. Furthermore, <code>h</code> only appears in slots with premise
indices greater than or equal to those in <code>hyps[h]</code>.</p></div></li><li id="Aesop.ForwardState.patSubsts" class="structure_field"><div class="structure_field_info">patSubsts : <span class="fn"><a href="../.././Lean/Data/PersistentHashMap.html#Lean.PHashMap">Lean.PHashMap</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a> <span class="fn">(<a href="../.././Lean/Data/PersistentArray.html#Lean.PArray">Lean.PArray</a> (<a href="../.././Aesop/Rule/Name.html#Aesop.RuleName">RuleName</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>))</span></span></div><div class="structure_field_doc"><p>The pattern substitutions present in the rule states. Invariant:
<code><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.patSubsts">patSubsts</a></code> maps the source <code>s</code> to a rule name <code>r</code> and pattern substitution <code>i</code>
iff the rule state of <code>r</code> contains <code>i</code> with source <code>s</code>.</p></div></li><li id="Aesop.ForwardState.hypTypes" class="structure_field"><div class="structure_field_info">hypTypes : <span class="fn"><a href="../.././Lean/Data/PersistentHashSet.html#Lean.PHashSet">Lean.PHashSet</a> <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a></span></div><div class="structure_field_doc"><p>Normalised types of all non-implementation detail hypotheses in the
local context.</p></div></li></ul><details id="instances-for-list-Aesop.ForwardState" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.instInhabitedForwardState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L759-L759">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedForwardState"><span class="name">Aesop</span>.<span class="name">instInhabitedForwardState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedForwardState">Aesop.instInhabitedForwardState</a> <a href="../.././Init/Prelude.html#Eq">=</a> <a href="../.././Init/Prelude.html#Inhabited.mk">{</a> <span class="fn">default</span> := <a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedForwardState.default">Aesop.instInhabitedForwardState.default</a> <a href="../.././Init/Prelude.html#Inhabited.mk">}</a></li></ul></details></div></div><div class="decl" id="Aesop.instInhabitedForwardState.default"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L759-L759">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.instInhabitedForwardState.default"><span class="name">Aesop</span>.<span class="name">instInhabitedForwardState</span>.<span class="name">default</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation"><a href="../.././Aesop/Forward/State.html#Aesop.instInhabitedForwardState.default">Aesop.instInhabitedForwardState.default</a> <a href="../.././Init/Prelude.html#Eq">=</a>   <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.mk">{</a> <span class="fn">ruleStates</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">hyps</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">patSubsts</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a>, <span class="fn">hypTypes</span> := <a href="../.././Init/Prelude.html#Inhabited.default">default</a> <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.mk">}</a></li></ul></details><details id="instances-for-list-Aesop.instInhabitedForwardState.default" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.instEmptyCollection"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L763-L764">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.instEmptyCollection"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">instEmptyCollection</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Core.html#EmptyCollection">EmptyCollection</a> <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ForwardState.instToMessageData"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L766-L770">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.instToMessageData"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">instToMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addHypCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L783-L805">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ruleMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a hypothesis to the forward state. If <code>fs</code> represents a local context
<code>lctx</code>, then <code>fs.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.addHyp">addHyp</a> h ms</code> represents <code>lctx</code> with <code>h</code> added. <code>ms</code> must
overapproximate the rules for which <code>h</code> may unify with a maximal premise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.addHypCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L807-L811">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHyp"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a hypothesis to the forward state. If <code>fs</code> represents a local context
<code>lctx</code>, then <code>fs.<a href="../.././Aesop/Forward/State.html#Aesop.VariableMap.addHyp">addHyp</a> h ms</code> represents <code>lctx</code> with <code>h</code> added. <code>ms</code> must
overapproximate the rules for which <code>h</code> may unify with a maximal premise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHyp">Aesop.ForwardState.addHyp</a> <span class="fn">goal</span> <span class="fn">h</span> <span class="fn">ms</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypCore">Aesop.ForwardState.addHypCore</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">goal</span> <span class="fn">h</span> <span class="fn">ms</span> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.addHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addPatSubstCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L813-L826">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubstCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubstCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ruleMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a pattern substitution to the forward state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.addPatSubstCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addPatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L828-L831">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubst"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a pattern substitution to the forward state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubst">Aesop.ForwardState.addPatSubst</a> <span class="fn">goal</span> <span class="fn">r</span> <span class="fn">patSubst</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubstCore">Aesop.ForwardState.addPatSubstCore</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">goal</span> <span class="fn">r</span> <span class="fn">patSubst</span> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.addPatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addPatSubstsCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L833-L839">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubstsCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ruleMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add multiple pattern substitutions to the forward state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.addPatSubstsCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addPatSubsts"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L841-L844">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addPatSubsts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add multiple pattern substitutions to the forward state.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubsts">Aesop.ForwardState.addPatSubsts</a> <span class="fn">goal</span> <span class="fn">patSubsts</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubstsCore">Aesop.ForwardState.addPatSubstsCore</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">goal</span> <span class="fn">patSubsts</span> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.addPatSubsts" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addHypWithPatSubstsCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L846-L853">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypWithPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypWithPatSubstsCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ruleMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a hypothesis and to the forward state, along with any rule pattern
substitutions obtained from it.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.addHypWithPatSubstsCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.addHypWithPatSubsts"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L855-L860">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypWithPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">addHypWithPatSubsts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">patSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Add a hypothesis and to the forward state, along with any rule pattern
substitutions obtained from it.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypWithPatSubsts">Aesop.ForwardState.addHypWithPatSubsts</a> <span class="fn">goal</span> <span class="fn">h</span> <span class="fn">ms</span> <span class="fn">patSubsts</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addHypWithPatSubstsCore">Aesop.ForwardState.addHypWithPatSubstsCore</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">goal</span> <span class="fn">h</span> <span class="fn">ms</span> <span class="fn">patSubsts</span> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.addHypWithPatSubsts" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.erasePatSubsts"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L862-L871">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.erasePatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">erasePatSubsts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">source</span> : <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource">PatSubstSource</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></div></div><p>Erase pattern substitutions with the given source.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.erasePatSubsts" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.eraseHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L873-L890">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.eraseHyp"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">eraseHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">type</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></div></div><p>Remove a hypothesis from the forward state. If <code>fs</code> represents a local
context <code>lctx</code>, then <code>fs.<a href="../.././Aesop/Forward/State.html#Aesop.InstMap.eraseHyp">eraseHyp</a> h ms</code> represents <code>lctx</code> with <code>h</code> removed.
<code>type</code> must be the normalised type of <code>h</code>. <code>ms</code> must contain all rules for which
<code>h</code> may unify with a maximal premise.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardState.eraseHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.eraseTargetPatSubsts"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L892-L894">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.eraseTargetPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">eraseTargetPatSubsts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a></div></div><p>Erase all pattern substitutions whose source is the target.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><span class="fn">fs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.eraseTargetPatSubsts">eraseTargetPatSubsts</a></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.erasePatSubsts">Aesop.ForwardState.erasePatSubsts</a> <a href="../.././Aesop/Forward/State.html#Aesop.PatSubstSource.target">Aesop.PatSubstSource.target</a> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.eraseTargetPatSubsts" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.updateTargetPatSubstsCore"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L896-L906">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.updateTargetPatSubstsCore"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">updateTargetPatSubstsCore</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ruleMatches</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newPatSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Update the pattern substitutions after the goal's target changed.
<code>goal</code> is the new goal. <code>newPatSubsts</code> are the new target's pattern
substitutions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.updateTargetPatSubstsCore">Aesop.ForwardState.updateTargetPatSubstsCore</a> <span class="fn">ruleMatches</span> <span class="fn">goal</span> <span class="fn">newPatSubsts</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.addPatSubstsCore">Aesop.ForwardState.addPatSubstsCore</a> <span class="fn">ruleMatches</span> <span class="fn">goal</span> <span class="fn">newPatSubsts</span> <span class="fn"><span class="fn">fs</span>.<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.eraseTargetPatSubsts">eraseTargetPatSubsts</a></span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.updateTargetPatSubstsCore" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardState.updateTargetPatSubsts"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/State.lean#L908-L912">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/State.html#Aesop.ForwardState.updateTargetPatSubsts"><span class="name">Aesop</span>.<span class="name">ForwardState</span>.<span class="name">updateTargetPatSubsts</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">newPatSubsts</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">fs</span> : <a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> (<a href="../.././Aesop/Forward/State.html#Aesop.ForwardState">ForwardState</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></div></div><p>Update the pattern substitutions after the goal's target changed.
<code>goal</code> is the new goal. <code>newPatSubsts</code> are the new target's pattern
substitutions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.updateTargetPatSubsts">Aesop.ForwardState.updateTargetPatSubsts</a> <span class="fn">goal</span> <span class="fn">newPatSubsts</span> <span class="fn">fs</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Aesop/Forward/State.html#Aesop.ForwardState.updateTargetPatSubstsCore">Aesop.ForwardState.updateTargetPatSubstsCore</a> <a href="../.././Init/Prelude.html#List.toArray">#[</a><a href="../.././Init/Prelude.html#List.toArray">]</a> <span class="fn">goal</span> <span class="fn">newPatSubsts</span> <span class="fn">fs</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardState.updateTargetPatSubsts" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>