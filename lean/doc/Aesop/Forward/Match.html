<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Aesop.Forward.Match</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Aesop.Forward.Match";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Aesop</span>.<span class="name">Forward</span>.<span class="name">Match</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean.html">Lean</a></li><li><a href="../.././Aesop/Rule.html">Aesop.Rule</a></li><li><a href="../.././Aesop/Forward/PremiseIndex.html">Aesop.Forward.PremiseIndex</a></li><li><a href="../.././Aesop/Forward/SlotIndex.html">Aesop.Forward.SlotIndex</a></li><li><a href="../.././Aesop/Rule/Forward.html">Aesop.Rule.Forward</a></li><li><a href="../.././Aesop/RuleTac/Descr.html">Aesop.RuleTac.Descr</a></li><li><a href="../.././Aesop/RuleTac/ElabRuleTerm.html">Aesop.RuleTac.ElabRuleTerm</a></li><li><a href="../.././Aesop/Script/SpecificTactics.html">Aesop.Script.SpecificTactics</a></li><li><a href="../.././Aesop/Forward/Match/Types.html">Aesop.Forward.Match.Types</a></li><li><a href="../.././Aesop/RuleTac/Forward/Basic.html">Aesop.RuleTac.Forward.Basic</a></li><li><a href="../.././Batteries/Lean/Meta/UnusedNames.html">Batteries.Lean.Meta.UnusedNames</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Aesop.Forward.Match" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Aesop.elabForwardRuleTerm"><span class="name">Aesop</span>.<span class="name">elabForwardRuleTerm</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Match.initial"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">initial</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Match.addHypOrPatSubst"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">addHypOrPatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Match.containsHyp"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">containsHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.Match.containsPatSubst"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">containsPatSubst</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.CompleteMatch.reconstructArgs"><span class="name">Aesop</span>.<span class="name">CompleteMatch</span>.<span class="name">reconstructArgs</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.CompleteMatch.toMessageData"><span class="name">Aesop</span>.<span class="name">CompleteMatch</span>.<span class="name">toMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.instToMessageData"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">instToMessageData</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.foldHypsM"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">foldHypsM</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.foldHyps"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">foldHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.anyHyp"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">anyHyp</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.getPropHyps"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">getPropHyps</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.getProof"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">getProof</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.ForwardRuleMatch.apply"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">apply</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.forwardRuleMatchesToNormRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToNormRules?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.forwardRuleMatchesToSafeRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToSafeRules?</span></a></div><div class="nav_link"><a class="break_within" href="#Aesop.forwardRuleMatchesToUnsafeRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToUnsafeRules?</span></a></div></nav><main>
<div class="decl" id="Aesop.elabForwardRuleTerm"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L25-L29">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.elabForwardRuleTerm"><span class="name">Aesop</span>.<span class="name">elabForwardRuleTerm</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/RuleTac/RuleTerm.html#Aesop.RuleTerm">RuleTerm</a> → <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></span></div></div><p>Elaborate the term of a forward rule in the current goal.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.elabForwardRuleTerm">Aesop.elabForwardRuleTerm</a> <span class="fn">goal</span> <span class="fn">(<a href="../.././Aesop/RuleTac/RuleTerm.html#Aesop.RuleTerm.const">Aesop.RuleTerm.const</a> <span class="fn">n</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.mkConstWithFreshMVarLevels">Lean.Meta.mkConstWithFreshMVarLevels</a> <span class="fn">n</span></span></li><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.elabForwardRuleTerm">Aesop.elabForwardRuleTerm</a> <span class="fn">goal</span> <span class="fn">(<a href="../.././Aesop/RuleTac/RuleTerm.html#Aesop.RuleTerm.term">Aesop.RuleTerm.term</a> <span class="fn">stx</span>)</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn">(<a href="../.././Aesop/RuleTac/ElabRuleTerm.html#Aesop.withFullElaboration">Aesop.withFullElaboration</a> <span class="fn">(<a href="../.././Init/Prelude.html#liftM">liftM</a> <span class="fn">(<a href="../.././Aesop/RuleTac/ElabRuleTerm.html#Aesop.elabRuleTermForApplyLikeMetaM">Aesop.elabRuleTermForApplyLikeMetaM</a> <span class="fn">goal</span> <span class="fn">stx</span>)</span>)</span>)</span>.<a href="../.././Lean/Elab/Term/TermElabM.html#Lean.Elab.Term.TermElabM.run'">run'</a></span></li></ul></details><details id="instances-for-list-Aesop.elabForwardRuleTerm" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Match.initial"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L33-L44">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.Match.initial"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">initial</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">isPatSubst</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">forwardDeps </span><span class="fn">conclusionDeps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></div></div><p>Create a one-element match. <code>subst</code> is the substitution that results from
matching a hypothesis against slot 0, or from a pattern substitution.
<code>isPatSubst</code> is <code>true</code> if the substitution resulted from a rule pattern.
<code>forwardDeps</code> are the forward dependencies of slot 0. <code>conclusionDeps</code> are the
conclusion dependencies of the rule to which this match belongs.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.Match.initial" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Match.addHypOrPatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L46-L58">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.Match.addHypOrPatSubst"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">addHypOrPatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">isPatSubst</span> : <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">forwardDeps</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/PremiseIndex.html#Aesop.PremiseIndex">PremiseIndex</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a></div></div><p>Add a hyp or pattern substitution to the match. <code>subst</code> is the substitution
that results from matching a hypothesis against slot <code>m.level + 1</code>, or from the
pattern. <code>isPatSubst</code> is <code>true</code> if the substitution resulted from a pattern
substitution. <code>forwardDeps</code> are the forward dependencies of slot
<code>m.level + 1</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.Match.addHypOrPatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Match.containsHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L60-L62">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.Match.containsHyp"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">containsHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">hyp</span> : <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if the match contains the given hyp.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.Match.containsHyp">Aesop.Match.containsHyp</a> <span class="fn">hyp</span> <span class="fn">m</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><span class="fn"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match.subst">subst</a></span>.<a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution.premises">premises</a></span>.<a href="../.././Init/Data/Array/Basic.html#Array.any">any</a></span> <span class="fn">fun (<span class="fn">x</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">Aesop.RPINF</a></span>) =&gt; <span class="fn"><a href="../.././Init/Data/Option/Basic.html#Option.any">Option.any</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">Aesop.RPINF</a>) =&gt; <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Aesop/RPINF/Basic.html#Aesop.PINF.toExpr">toExpr</a></span>.<a href="../.././Lean/Expr.html#Lean.Expr.containsFVar">containsFVar</a></span> <span class="fn">hyp</span></span>)</span> <span class="fn">x</span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.Match.containsHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.Match.containsPatSubst"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L64-L66">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.Match.containsPatSubst"><span class="name">Aesop</span>.<span class="name">Match</span>.<span class="name">containsPatSubst</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">subst</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Substitution</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match">Match</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if the match contains the given pattern substitution.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.Match.containsPatSubst">Aesop.Match.containsPatSubst</a> <span class="fn">subst</span> <span class="fn">m</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn"><span class="fn"><span class="fn">m</span>.<a href="../.././Aesop/Forward/Match/Types.html#Aesop.Match.patInstSubsts">patInstSubsts</a></span>.<a href="../.././Init/Data/Array/Basic.html#Array.any">any</a></span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Aesop/Forward/Substitution.html#Aesop.Substitution">Aesop.Substitution</a>) =&gt; <span class="fn">x</span> <a href="../.././Init/Prelude.html#BEq.beq">==</a> <span class="fn">subst</span></span></span></li></ul></details><details id="instances-for-list-Aesop.Match.containsPatSubst" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.CompleteMatch.reconstructArgs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L72-L87">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.CompleteMatch.reconstructArgs"><span class="name">Aesop</span>.<span class="name">CompleteMatch</span>.<span class="name">reconstructArgs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a>)</span></span> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Level.html#Lean.Level">Lean.Level</a>)</span></span></div></div><p>Given a complete match <code>m</code> for <code>r</code>, get arguments to <code>r</code> contained in the
match's slots and substitution. For non-immediate arguments, we return <code>none</code>.
The returned levels are suitable assignments for the level mvars of <code>r</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.CompleteMatch.reconstructArgs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.CompleteMatch.toMessageData"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L90-L92">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.CompleteMatch.toMessageData"><span class="name">Aesop</span>.<span class="name">CompleteMatch</span>.<span class="name">toMessageData</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">r</span> : <a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule">ForwardRule</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.CompleteMatch">CompleteMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.CompleteMatch.toMessageData" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.instToMessageData"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L98-L99">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.instToMessageData"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">instToMessageData</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.ToMessageData">Lean.ToMessageData</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span></div></div><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.foldHypsM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L101-L108">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.foldHypsM"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">foldHypsM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <span class="fn"><a href="../.././foundational_types.html">Type</a> u_1 → <a href="../.././foundational_types.html">Type</a> u_2</span>}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">σ</span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <span class="fn"><span class="fn">M</span> <span class="fn">σ</span></span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">σ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">M</span> <span class="fn">σ</span></span></div></div><p>Fold over the hypotheses contained in a match.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.foldHypsM" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.foldHyps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L110-L112">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.foldHyps"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">foldHyps</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">σ</span> : <a href="../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><span class="fn">σ</span> → <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <span class="fn">σ</span></span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">init</span> : <span class="fn">σ</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">σ</span></div></div><p>Fold over the hypotheses contained in a match.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.foldHyps">Aesop.ForwardRuleMatch.foldHyps</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">m</span></span> <a href="../.././Init/Prelude.html#Eq">=</a> <span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.foldHypsM">Aesop.ForwardRuleMatch.foldHypsM</a> <span class="fn">f</span> <span class="fn">init</span> <span class="fn">m</span></span></li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.foldHyps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.anyHyp"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L114-L120">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.anyHyp"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">anyHyp</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Bool">Bool</a></div></div><p>Returns <code>true</code> if any hypothesis contained in <code>m</code> satisfies <code>f</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.anyHyp" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.getPropHyps"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L122-L125">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.getPropHyps"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">getPropHyps</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a>)</span></span></div></div><p>Get the hypotheses from the match whose types are propositions.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.getPropHyps" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.getProof"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L127-L161">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.getProof"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">getProof</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span></div></div><p>Construct the proof of the new hypothesis represented by <code>m</code>.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.getProof" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.ForwardRuleMatch.apply"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L163-L191">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.ForwardRuleMatch.apply"><span class="name">Aesop</span>.<span class="name">ForwardRuleMatch</span>.<span class="name">apply</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">goal</span> : <a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">skip?</span> : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Aesop/RPINF/Basic.html#Aesop.RPINF">RPINF</a> → <a href="../.././Init/Prelude.html#Bool">Bool</a>)</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Aesop/Script/ScriptM.html#Aesop.ScriptT">ScriptT</a> <a href="../.././Aesop/BaseM.html#Aesop.BaseM">BaseM</a> <span class="fn">(<a href="../.././Init/Prelude.html#Option">Option</a> (<a href="../.././Lean/Expr.html#Lean.MVarId">Lean.MVarId</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a> <a href="../.././Init/Prelude.html#Prod">×</a> <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.FVarId">Lean.FVarId</a></span>))</span></span></div></div><p>Apply a forward rule match to a goal. This adds the hypothesis corresponding
to the match to the local context. Returns the new goal, the added hypothesis
and the hypotheses that were removed (if any). Hypotheses may be removed if the
match is for a <code>destruct</code> rule. If the <code>skip</code> function, when applied to the
normalised type of the new hypothesis, returns true, then the hypothesis is not
added to the local context.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.ForwardRuleMatch.apply" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.forwardRuleMatchesToNormRules?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L217-L222">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.forwardRuleMatchesToNormRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToNormRules?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Rule.html#Aesop.NormRule">NormRule</a>)</span></span></div></div><p>Convert forward rule matches to norm rules. Fails if any of the matches is
not a norm rule match.</p><details><summary>Equations</summary><ul class="equations"><li class="equation"><span class="fn"><a href="../.././Aesop/Forward/Match.html#Aesop.forwardRuleMatchesToNormRules?">Aesop.forwardRuleMatchesToNormRules?</a> <span class="fn">ms</span></span> <a href="../.././Init/Prelude.html#Eq">=</a>   <span class="fn"><a href="../.././Aesop/Forward/Match.html#_private.Aesop.Forward.Match.0.Aesop.forwardRuleMatchesToRules?">Aesop.forwardRuleMatchesToRules?✝</a> <span class="fn">ms</span> <span class="fn">fun (<span class="fn">x</span> : <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">Aesop.ForwardRuleMatch</a>) =&gt;
    <span class="fn"><a href="../.././Init/Prelude.html#Option.map">Option.map</a> <span class="fn">(fun (<span class="fn">x</span> : <a href="../.././Init/Data/Int/Basic.html#Int">Int</a>) =&gt; <a href="../.././Aesop/Rule.html#Aesop.NormRuleInfo.mk">{</a> <span class="fn">penalty</span> := <span class="fn">x</span> <a href="../.././Aesop/Rule.html#Aesop.NormRuleInfo.mk">}</a>)</span> <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch.rule">rule</a></span>.<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRule.prio">prio</a></span>.<a href="../.././Aesop/Rule/Forward.html#Aesop.ForwardRulePriority.penalty?">penalty?</a></span></span></span></span></li></ul></details><details id="instances-for-list-Aesop.forwardRuleMatchesToNormRules?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.forwardRuleMatchesToSafeRules?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L224-L229">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.forwardRuleMatchesToSafeRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToSafeRules?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Rule.html#Aesop.SafeRule">SafeRule</a>)</span></span></div></div><p>Convert forward rule matches to safe rules. Fails if any of the matches is
not a safe rule match.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.forwardRuleMatchesToSafeRules?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Aesop.forwardRuleMatchesToUnsafeRules?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/aesop/blob/725ac8cd67acd70a7beaf47c3725e23484c1ef50/Aesop/Forward/Match.lean#L231-L236">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Aesop/Forward/Match.html#Aesop.forwardRuleMatchesToUnsafeRules?"><span class="name">Aesop</span>.<span class="name">forwardRuleMatchesToUnsafeRules?</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">ms</span> : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Forward/Match/Types.html#Aesop.ForwardRuleMatch">ForwardRuleMatch</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Aesop/Rule.html#Aesop.UnsafeRule">UnsafeRule</a>)</span></span></div></div><p>Convert forward rule matches to unsafe rules. Fails if any of the matches
is not an unsafe rule match.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Aesop.forwardRuleMatchesToUnsafeRules?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>