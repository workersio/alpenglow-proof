<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../.././style.css"></link><link rel="icon" href="../../.././favicon.svg"></link><link rel="mask-icon" href="../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.FieldSimp.Discharger</title><script defer="true" src="../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.FieldSimp.Discharger";</script><script type="module" src="../../.././jump-src.js"></script><script type="module" src="../../.././search.js"></script><script type="module" src="../../.././expand-nav.js"></script><script type="module" src="../../.././how-about.js"></script><script type="module" src="../../.././instances.js"></script><script type="module" src="../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">FieldSimp</span>.<span class="name">Discharger</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/FieldSimp/Discharger.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../.././Init.html">Init</a></li><li><a href="../../.././Mathlib/Util/DischargerAsTactic.html">Mathlib.Util.DischargerAsTactic</a></li><li><a href="../../.././Mathlib/Tactic/Positivity/Core.html">Mathlib.Tactic.Positivity.Core</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.FieldSimp.Discharger" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.FieldSimp.discharge"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">FieldSimp</span>.<span class="name">discharge</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.FieldSimp.tacticField_simp_discharge"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">FieldSimp</span>.<span class="name">tacticField_simp_discharge</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Discharger-for-field-simp-tactic">Discharger for <code>field_simp</code> tactic <a class="hover-link" href="#Discharger-for-field-simp-tactic">#</a></h1><p>The <code>field_simp</code> tactic (implemented downstream from this file) clears denominators in algebraic
expressions. In order to do this, the denominators need to be certified as nonzero. This file
contains the discharger which carries out these checks.</p><p>Currently the discharger tries four strategies:</p><ol>
<li><code>assumption</code></li>
<li><code><a href="../../.././Mathlib/Tactic/Positivity/Core.html#positivity">positivity</a></code></li>
<li><code><a href="../../.././Mathlib/Tactic/NormNum/Core.html#norm_num">norm_num</a></code></li>
<li><code>simp</code> with the same simp-context as the <code>field_simp</code> call which invoked it</li>
</ol><p>TODO: Ideally the discharger would be just <code><a href="../../.././Mathlib/Tactic/Positivity/Core.html#positivity">positivity</a></code> (which, despite the name, has robust
handling of general <code>≠ 0</code> goals, not just <code>&gt; 0</code> goals). We need the other strategies currently to
get (a cheap approximation of) <code><a href="../../.././Mathlib/Tactic/Positivity/Core.html#positivity">positivity</a></code> on fields without a partial order.</p><p>The refactor of <code><a href="../../.././Mathlib/Tactic/Positivity/Core.html#positivity">positivity</a></code> to avoid a partial order assumption would be large but not
fundamentally difficult.</p><h3 class="markdown-heading" id="Main-declarations">Main declarations <a class="hover-link" href="#Main-declarations">#</a></h3><ul>
<li><p><code><a href="../../.././Mathlib/Tactic/FieldSimp/Discharger.html#Mathlib.Tactic.FieldSimp.discharge">Mathlib.Tactic.FieldSimp.discharge</a></code>: the discharger, of type <code>Expr → SimpM (Option Expr)</code></p>
</li>
<li><p><code>field_simp_discharge</code>: tactic syntax for the discharger (most useful for testing/debugging)</p>
</li>
</ul></div><div class="decl" id="Mathlib.Tactic.FieldSimp.discharge"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/FieldSimp/Discharger.lean#L51-L105">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/FieldSimp/Discharger.html#Mathlib.Tactic.FieldSimp.discharge"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">FieldSimp</span>.<span class="name">discharge</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">prop</span> : <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../../.././Lean/Meta/Tactic/Simp/Types.html#Lean.Meta.Simp.SimpM">Lean.Meta.SimpM</a> <span class="fn">(<a href="../../.././Init/Prelude.html#Option">Option</a> <a href="../../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span></div></div><p>Discharge strategy for the <code>field_simp</code> tactic.</p></div></div><div class="decl" id="Mathlib.Tactic.FieldSimp.tacticField_simp_discharge"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/FieldSimp/Discharger.lean#L107-L108">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../../.././Mathlib/Tactic/FieldSimp/Discharger.html#Mathlib.Tactic.FieldSimp.tacticField_simp_discharge"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">FieldSimp</span>.<span class="name">tacticField_simp_discharge</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p>Discharge strategy for the <code>field_simp</code> tactic.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.FieldSimp.tacticField_simp_discharge" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>