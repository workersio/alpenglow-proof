<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../../../.././style.css"></link><link rel="icon" href="../../../.././favicon.svg"></link><link rel="mask-icon" href="../../../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../../../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Data.Nat.Choose.Sum</title><script defer="true" src="../../../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../../../.././";</script><script>const MODULE_NAME="Mathlib.Data.Nat.Choose.Sum";</script><script type="module" src="../../../.././jump-src.js"></script><script type="module" src="../../../.././search.js"></script><script type="module" src="../../../.././expand-nav.js"></script><script type="module" src="../../../.././how-about.js"></script><script type="module" src="../../../.././instances.js"></script><script type="module" src="../../../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Data</span>.<span class="name">Nat</span>.<span class="name">Choose</span>.<span class="name">Sum</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../../../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../../../.././Init.html">Init</a></li><li><a href="../../../.././Mathlib/Tactic/Linarith.html">Mathlib.Tactic.Linarith</a></li><li><a href="../../../.././Mathlib/Tactic/Ring.html">Mathlib.Tactic.Ring</a></li><li><a href="../../../.././Mathlib/Algebra/BigOperators/Intervals.html">Mathlib.Algebra.BigOperators.Intervals</a></li><li><a href="../../../.././Mathlib/Algebra/BigOperators/NatAntidiagonal.html">Mathlib.Algebra.BigOperators.NatAntidiagonal</a></li><li><a href="../../../.././Mathlib/Algebra/BigOperators/Ring/Finset.html">Mathlib.Algebra.BigOperators.Ring.Finset</a></li><li><a href="../../../.././Mathlib/Algebra/Order/BigOperators/Group/Finset.html">Mathlib.Algebra.Order.BigOperators.Group.Finset</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Data.Nat.Choose.Sum" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Commute.add_pow"><span class="name">Commute</span>.<span class="name">add_pow</span></a></div><div class="nav_link"><a class="break_within" href="#Commute.add_pow'"><span class="name">Commute</span>.<span class="name">add_pow'</span></a></div><div class="nav_link"><a class="break_within" href="#add_pow"><span class="name">add_pow</span></a></div><div class="nav_link"><a class="break_within" href="#sub_pow"><span class="name">sub_pow</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.sum_range_choose"><span class="name">Nat</span>.<span class="name">sum_range_choose</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.sum_range_choose_halfway"><span class="name">Nat</span>.<span class="name">sum_range_choose_halfway</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.choose_middle_le_pow"><span class="name">Nat</span>.<span class="name">choose_middle_le_pow</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.four_pow_le_two_mul_add_one_mul_central_binom"><span class="name">Nat</span>.<span class="name">four_pow_le_two_mul_add_one_mul_central_binom</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.sum_Icc_choose"><span class="name">Nat</span>.<span class="name">sum_Icc_choose</span></a></div><div class="nav_link"><a class="break_within" href="#Nat.sum_range_add_choose"><span class="name">Nat</span>.<span class="name">sum_range_add_choose</span></a></div><div class="nav_link"><a class="break_within" href="#Int.alternating_sum_range_choose"><span class="name">Int</span>.<span class="name">alternating_sum_range_choose</span></a></div><div class="nav_link"><a class="break_within" href="#Int.alternating_sum_range_choose_of_ne"><span class="name">Int</span>.<span class="name">alternating_sum_range_choose_of_ne</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_powerset_apply_card"><span class="name">Finset</span>.<span class="name">sum_powerset_apply_card</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_powerset_neg_one_pow_card"><span class="name">Finset</span>.<span class="name">sum_powerset_neg_one_pow_card</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_powerset_neg_one_pow_card_of_nonempty"><span class="name">Finset</span>.<span class="name">sum_powerset_neg_one_pow_card_of_nonempty</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.prod_pow_choose_succ"><span class="name">Finset</span>.<span class="name">prod_pow_choose_succ</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_choose_succ_nsmul"><span class="name">Finset</span>.<span class="name">sum_choose_succ_nsmul</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.prod_antidiagonal_pow_choose_succ"><span class="name">Finset</span>.<span class="name">prod_antidiagonal_pow_choose_succ</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_antidiagonal_choose_succ_nsmul"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_succ_nsmul</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_choose_succ_mul"><span class="name">Finset</span>.<span class="name">sum_choose_succ_mul</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_antidiagonal_choose_succ_mul"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_succ_mul</span></a></div><div class="nav_link"><a class="break_within" href="#Finset.sum_antidiagonal_choose_add"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_add</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="Sums-of-binomial-coefficients">Sums of binomial coefficients <a class="hover-link" href="#Sums-of-binomial-coefficients">#</a></h1><p>This file includes variants of the binomial theorem and other results on sums of binomial
coefficients. Theorems whose proofs depend on such sums may also go in this file for import
reasons.</p></div><div class="decl" id="Commute.add_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L29-L60">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Commute.add_pow"><span class="name">Commute</span>.<span class="name">add_pow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#Semiring">Semiring</a> <span class="fn">R</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn">R</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Commute/Defs.html#Commute">Commute</a> <span class="fn">x</span> <span class="fn">y</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>) <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">m</span>) <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span>)</span></span></span></div></div><p>A version of the <strong>binomial theorem</strong> for commuting elements in noncommutative semirings.</p></div></div><div class="decl" id="Commute.add_pow'"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L62-L67">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Commute.add_pow'"><span class="name">Commute</span>.<span class="name">add_pow'</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#Semiring">Semiring</a> <span class="fn">R</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x </span><span class="fn">y</span> : <span class="fn">R</span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h</span> : <span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Commute/Defs.html#Commute">Commute</a> <span class="fn">x</span> <span class="fn">y</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>) <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">Finset.antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">m</span>.1</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> (<span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">m</span>.1</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">m</span>.2</span>)</span></div></div><p>A version of <code><a href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Commute.add_pow">Commute.add_pow</a></code> that avoids ℕ-subtraction by summing over the antidiagonal and
also with the binomial coefficient applied via scalar action of ℕ.</p></div></div><div class="decl" id="add_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L71-L74">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#add_pow"><span class="name">add_pow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#CommSemiring">CommSemiring</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn">R</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">y</span>) <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">m</span>) <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span>)</span></span></span></div></div><p>The <strong>binomial theorem</strong></p></div></div><div class="decl" id="sub_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L76-L85">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#sub_pow"><span class="name">sub_pow</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#CommRing">CommRing</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">x </span><span class="fn">y</span> : <span class="fn">R</span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type">(<span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">y</span>) <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">(-<span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n</span>) <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">x</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">y</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">m</span>) <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span>)</span></span></span></div></div><p>A special case of the <strong>binomial theorem</strong></p></div></div><div class="decl" id="Nat.sum_range_choose"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L89-L92">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.sum_range_choose"><span class="name">Nat</span>.<span class="name">sum_range_choose</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span></div></div><p>The sum of entries in a row of Pascal's triangle</p></div></div><div class="decl" id="Nat.sum_range_choose_halfway"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L94-L110">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.sum_range_choose_halfway"><span class="name">Nat</span>.<span class="name">sum_range_choose_halfway</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">m</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">(<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">4</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span></div></div></div></div><div class="decl" id="Nat.choose_middle_le_pow"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L112-L115">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.choose_middle_le_pow"><span class="name">Nat</span>.<span class="name">choose_middle_le_pow</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><span class="fn">(<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">n</span></span> <a href="../../../.././Init/Prelude.html#LE.le">≤</a> <span class="fn">4</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span></div></div></div></div><div class="decl" id="Nat.four_pow_le_two_mul_add_one_mul_central_binom"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L117-L123">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.four_pow_le_two_mul_add_one_mul_central_binom"><span class="name">Nat</span>.<span class="name">four_pow_le_two_mul_add_one_mul_central_binom</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">4</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#LE.le">≤</a> (<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">(<span class="fn">2</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">n</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">n</span></span></div></div></div></div><div class="decl" id="Nat.sum_Icc_choose"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L125-L133">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.sum_Icc_choose"><span class="name">Nat</span>.<span class="name">sum_Icc_choose</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">k</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Order/Interval/Finset/Defs.html#Finset.Icc">Finset.Icc</a> <span class="fn">k</span> <span class="fn">n</span></span>, <span class="fn"><span class="fn"><span class="fn">m</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">k</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> (<span class="fn">k</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></div></div><p><strong>Zhu Shijie's identity</strong> aka hockey-stick identity, version with <code>Icc</code>.</p></div></div><div class="decl" id="Nat.sum_range_add_choose"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L135-L147">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Nat.sum_range_add_choose"><span class="name">Nat</span>.<span class="name">sum_range_add_choose</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">n </span><span class="fn">k</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">(<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">k</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">k</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">k</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> (<span class="fn">k</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></div></div><p><strong>Zhu Shijie's identity</strong> aka hockey-stick identity, version with <code>range</code>.
Summing <code>(i + k).choose k</code> for <code>i ∈ [0, n]</code> gives <code>(n + k + 1).choose (k + 1)</code>.</p><p>Combinatorial interpretation: <code>(i + k).choose k</code> is the number of decompositions of <code>[0, i)</code> in
<code>k + 1</code> (possibly empty) intervals (this follows from a stars and bars description). In particular,
<code>(n + k + 1).choose (k + 1)</code> corresponds to decomposing <code>[0, n)</code> into <code>k + 2</code> intervals.
By putting away the last interval (of some length <code>n - i</code>),
we have to decompose the remaining interval <code>[0, i)</code> into <code>k + 1</code> intervals, hence the sum.</p></div></div><div class="decl" id="Int.alternating_sum_range_choose"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L151-L158">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Int.alternating_sum_range_choose"><span class="name">Int</span>.<span class="name">alternating_sum_range_choose</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">(-<span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span>)</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Init/Prelude.html#ite">if</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span> <a href="../../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="Int.alternating_sum_range_choose_of_ne"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L160-L162">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Int.alternating_sum_range_choose_of_ne"><span class="name">Int</span>.<span class="name">alternating_sum_range_choose_of_ne</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h0</span> : <span class="fn">n</span> <a href="../../../.././Init/Core.html#Ne">≠</a> <span class="fn">0</span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">Finset.range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">(-<span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn">m</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span>)</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="Finset.sum_powerset_apply_card"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L166-L177">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_powerset_apply_card"><span class="name">Finset</span>.<span class="name">sum_powerset_apply_card</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">β</span> : <a href="../../../.././foundational_types.html">Type</a> u_3}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Defs.html#AddCommMonoid">AddCommMonoid</a> <span class="fn">α</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">α</span></span>)</span></span>
<span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Defs.html#Finset">Finset</a> <span class="fn">β</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Powerset.html#Finset.powerset">powerset</a></span>, <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">m</span>.<a href="../../../.././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn"><span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">m</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> <span class="fn">m</span></span></span></div></div></div></div><div class="decl" id="Finset.sum_powerset_neg_one_pow_card"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L179-L182">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_powerset_neg_one_pow_card"><span class="name">Finset</span>.<span class="name">sum_powerset_neg_one_pow_card</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Init/Prelude.html#DecidableEq">DecidableEq</a> <span class="fn">α</span></span>]</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Defs.html#Finset">Finset</a> <span class="fn">α</span></span>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Powerset.html#Finset.powerset">powerset</a></span>, <span class="fn">(-<span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">m</span>.<a href="../../../.././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Init/Prelude.html#ite">if</a> <span class="fn">x</span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <a href="../../../.././Init/Core.html#EmptyCollection.emptyCollection">∅</a> <a href="../../../.././Init/Prelude.html#ite">then</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#ite">else</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="Finset.sum_powerset_neg_one_pow_card_of_nonempty"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L184-L188">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_powerset_neg_one_pow_card_of_nonempty"><span class="name">Finset</span>.<span class="name">sum_powerset_neg_one_pow_card_of_nonempty</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">α</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">x</span> : <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Defs.html#Finset">Finset</a> <span class="fn">α</span></span>}</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">h0</span> : <span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Empty.html#Finset.Nonempty">Nonempty</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">m</span> ∈ <span class="fn"><span class="fn">x</span>.<a href="../../../.././Mathlib/Data/Finset/Powerset.html#Finset.powerset">powerset</a></span>, <span class="fn">(-<span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">m</span>.<a href="../../../.././Mathlib/Data/Finset/Card.html#Finset.card">card</a></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn">0</span></div></div></div></div><div class="decl" id="Finset.prod_pow_choose_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L192-L201">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.prod_pow_choose_succ"><span class="name">Finset</span>.<span class="name">prod_pow_choose_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Defs.html#CommMonoid">CommMonoid</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">M</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∏ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">2</span>)</span>, <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">(∏ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span>)</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">∏ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">f</span> (<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span></span></div></div></div></div><div class="decl" id="Finset.sum_choose_succ_nsmul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L192-L192">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_choose_succ_nsmul"><span class="name">Finset</span>.<span class="name">sum_choose_succ_nsmul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Defs.html#AddCommMonoid">AddCommMonoid</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">M</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">2</span>)</span>, <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> (<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span></div></div></div></div><div class="decl" id="Finset.prod_antidiagonal_pow_choose_succ"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L203-L214">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.prod_antidiagonal_pow_choose_succ"><span class="name">Finset</span>.<span class="name">prod_antidiagonal_pow_choose_succ</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Defs.html#CommMonoid">CommMonoid</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">M</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∏ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> <span class="fn"><span class="fn">ij</span>.2</span></span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">(∏ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> (<span class="fn"><span class="fn">ij</span>.2</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span></span>)</span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn">∏ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn">f</span> (<span class="fn"><span class="fn">ij</span>.1</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn"><span class="fn">ij</span>.2</span></span> <a href="../../../.././Init/Prelude.html#HPow.hPow">^</a> <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.2</span></span></span></div></div></div></div><div class="decl" id="Finset.sum_antidiagonal_choose_succ_nsmul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L203-L203">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_antidiagonal_choose_succ_nsmul"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_succ_nsmul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">M</span> : <a href="../../../.././foundational_types.html">Type</a> u_2}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Group/Defs.html#AddCommMonoid">AddCommMonoid</a> <span class="fn">M</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">M</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn"><span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> <span class="fn"><span class="fn">ij</span>.2</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> (<span class="fn"><span class="fn">ij</span>.2</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.2</span></span> <a href="../../../.././Init/Prelude.html#HSMul.hSMul">•</a> <span class="fn"><span class="fn">f</span> (<span class="fn"><span class="fn">ij</span>.1</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn"><span class="fn">ij</span>.2</span></span></span></div></div></div></div><div class="decl" id="Finset.sum_choose_succ_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L216-L222">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_choose_succ_mul"><span class="name">Finset</span>.<span class="name">sum_choose_succ_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#NonAssocSemiring">NonAssocSemiring</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">R</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">2</span>)</span>, <span class="fn">↑<span class="fn">(<span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> <span class="fn">i</span> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">∑ <span class="fn">i</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Data/Finset/Range.html#Finset.range">range</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">i</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> (<span class="fn">i</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HSub.hSub">-</a> <span class="fn">i</span>)</span></span></div></div><p>The sum of <code>(n+1).choose i * f i (n+1-i)</code> can be split into two sums at rank <code>n</code>,
respectively of <code>n.choose i * f i (n+1-i)</code> and <code>n.choose i * f (i+1) (n-i)</code>.</p></div></div><div class="decl" id="Finset.sum_antidiagonal_choose_succ_mul"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L224-L230">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_antidiagonal_choose_succ_mul"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_succ_mul</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{<span class="fn">R</span> : <a href="../../../.././foundational_types.html">Type</a> u_1}</span></span>
</span><span class="impl_arg"><span class="decl_args">
<span class="fn">[<span class="fn"><a href="../../../.././Mathlib/Algebra/Ring/Defs.html#NonAssocSemiring">NonAssocSemiring</a> <span class="fn">R</span></span>]</span></span>
</span><span class="decl_args">
<span class="fn">(<span class="fn">f</span> : <span class="fn"><a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <a href="../../../.././Init/Prelude.html#Nat">ℕ</a> → <span class="fn">R</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> (<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span>, <span class="fn">↑<span class="fn">(<span class="fn">(<span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> <span class="fn"><span class="fn">ij</span>.2</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a>   <span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.1</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> <span class="fn"><span class="fn">ij</span>.1</span> (<span class="fn"><span class="fn">ij</span>.2</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a>     <span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn">↑<span class="fn">(<span class="fn"><span class="fn">n</span>.<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn"><span class="fn">ij</span>.2</span>)</span></span> <a href="../../../.././Init/Prelude.html#HMul.hMul">*</a> <span class="fn"><span class="fn">f</span> (<span class="fn"><span class="fn">ij</span>.1</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>) <span class="fn"><span class="fn">ij</span>.2</span></span></span></div></div><p>The sum along the antidiagonal of <code>(n+1).choose i * f i j</code> can be split into two sums along the
antidiagonal at rank <code>n</code>, respectively of <code>n.choose i * f i (j+1)</code> and <code>n.choose j * f (i+1) j</code>.</p></div></div><div class="decl" id="Finset.sum_antidiagonal_choose_add"><div class="theorem"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Data/Nat/Choose/Sum.lean#L232-L236">source</a></div><div class="decl_header"><span class="decl_kind">theorem</span>
<span class="decl_name"><a class="break_within" href="../../../.././Mathlib/Data/Nat/Choose/Sum.html#Finset.sum_antidiagonal_choose_add"><span class="name">Finset</span>.<span class="name">sum_antidiagonal_choose_add</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">d </span><span class="fn">n</span> : <a href="../../../.././Init/Prelude.html#Nat">ℕ</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn">∑ <span class="fn">ij</span> ∈ <span class="fn"><a href="../../../.././Mathlib/Algebra/Order/Antidiag/Prod.html#Finset.HasAntidiagonal.antidiagonal">antidiagonal</a> <span class="fn">n</span></span>, <span class="fn"><span class="fn">(<span class="fn">d</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn"><span class="fn">ij</span>.2</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> <span class="fn">d</span></span></span> <a href="../../../.././Init/Prelude.html#Eq">=</a> <span class="fn"><span class="fn">(<span class="fn">d</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">n</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>).<a href="../../../.././Mathlib/Data/Nat/Choose/Basic.html#Nat.choose">choose</a></span> (<span class="fn">d</span> <a href="../../../.././Init/Prelude.html#HAdd.hAdd">+</a> <span class="fn">1</span>)</span></div></div></div></div></main>
<nav class="nav"><iframe src="../../../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>