<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="icon" href="../.././favicon.svg"></link><link rel="mask-icon" href="../.././favicon.svg" color="#000000"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Mathlib.Tactic.ErwQuestion</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Mathlib.Tactic.ErwQuestion";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label><span>Documentation</span></h1><h2 class="header_filename break_within"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">ErwQuestion</span></h2><form id="search_form"><input type="text" name="q" autocomplete="off"></input>&#32;<button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button></form></header><nav class="internal_nav"><p><a href="#top">return to top</a></p><p class="gh_nav_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Mathlib/Init.html">Mathlib.Init</a></li><li><a href="../.././Lean/Elab/Tactic/Rewrite.html">Lean.Elab.Tactic.Rewrite</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Mathlib.Tactic.ErwQuestion" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Erw?.tactic.erw?.verbose"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">tactic</span>.<span class="name">erw?</span>.<span class="name">verbose</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Erw?.erw?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">erw?</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Erw?.logDiffs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">logDiffs</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Erw?.extractRewriteEq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">extractRewriteEq</span></a></div><div class="nav_link"><a class="break_within" href="#Mathlib.Tactic.Erw?.extractRewriteHypEq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">extractRewriteHypEq</span></a></div></nav><main>
<div class="mod_doc"><h1 class="markdown-heading" id="The-erw-tactic">The <code><a href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.erw?">erw?</a></code> tactic <a class="hover-link" href="#The-erw-tactic">#</a></h1><p><code><a href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.erw?">erw?</a> [r, ...]</code> calls <code>erw [r, ...]</code> (at hypothesis <code>h</code> if written <code>erw [r, ...] at h</code>),
and then attempts to identify any subexpression which would block the use of <code>rw</code> instead.
It does so by identifying subexpressions which are defeq, but not at reducible transparency.</p></div><div class="decl" id="Mathlib.Tactic.Erw?.tactic.erw?.verbose"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean#L21-L29">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.tactic.erw?.verbose"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">tactic</span>.<span class="name">erw?</span>.<span class="name">verbose</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>If set to <code>true</code>, <code><a href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.erw?">erw?</a></code> will log more information as it attempts to identify subexpressions
which would block the use of <code>rw</code> instead.</p></div></div><div class="decl" id="Mathlib.Tactic.Erw?.erw?"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean#L31-L36">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.erw?"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">erw?</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././Init/Prelude.html#Lean.ParserDescr">Lean.ParserDescr</a></div></div><p><code><a href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.erw?">erw?</a> [r, ...]</code> calls <code>erw [r, ...]</code> (at hypothesis <code>h</code> if written <code>erw [r, ...] at h</code>),
and then attempts to identify any subexpression which would block the use of <code>rw</code> instead.
It does so by identifying subexpressions which are defeq, but not at reducible transparency.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Erw?.erw?" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Erw?.logDiffs"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean#L41-L81">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.logDiffs"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">logDiffs</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">tk</span> : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(<span class="fn">e₁ </span><span class="fn">e₂</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Control/State.html#StateT">StateT</a> <span class="fn">(<a href="../.././Init/Prelude.html#Array">Array</a> <span class="fn">(<a href="../.././Init/Prelude.html#Unit">Unit</a> → <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span>)</span> <a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div><p>Check if two expressions are different at reducible transparency.
Attempt to log an info message for the first subexpressions which are different
(but agree at default transparency).</p><p>Also returns an array of messages for the <code><a href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.tactic.erw?.verbose">verbose</a></code> report.</p><details id="instances-for-list-Mathlib.Tactic.Erw?.logDiffs" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Erw?.extractRewriteEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean#L83-L97">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.extractRewriteEq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">extractRewriteEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> (<a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a> <a href="../.././Init/Prelude.html#Prod">×</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></div></div><p>Checks that the input <code>Expr</code> represents a proof produced by <code>(e)rw</code> and returns the types of the
LHS of the equality being written (one from the target, the other from the lemma used).
These will be defeq, but not necessarily reducibly so.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Erw?.extractRewriteEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div><div class="decl" id="Mathlib.Tactic.Erw?.extractRewriteHypEq"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover-community/mathlib4/blob/6b1d0f08cb89b784bfb1bb9cabf8016cc8059f07/Mathlib/Tactic/ErwQuestion.lean#L99-L111">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Mathlib/Tactic/ErwQuestion.html#Mathlib.Tactic.Erw?.extractRewriteHypEq"><span class="name">Mathlib</span>.<span class="name">Tactic</span>.<span class="name">Erw?</span>.<span class="name">extractRewriteHypEq</span></a></span><span class="decl_args">
<span class="fn">(<span class="fn">e</span> : <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Meta/Basic.html#Lean.Meta.MetaM">Lean.MetaM</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span></div></div><p>Checks that the input <code>Expr</code> represents a proof produced by <code>(e)rw at</code> and returns the type of the
LHS of the equality (from the lemma used).
This will be defeq to the hypothesis being written, but not necessarily reducibly so.</p><details><summary>Equations</summary><ul class="equations"><li class="equation">One or more equations did not get rendered due to their size.</li></ul></details><details id="instances-for-list-Mathlib.Tactic.Erw?.extractRewriteHypEq" class="instances-for-list"><summary>Instances For</summary><ul class="instances-for-enum"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>